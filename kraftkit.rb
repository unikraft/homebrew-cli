# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kraftkit < Formula
  desc "Build and use highly customized and ultra-lightweight unikernels."
  homepage "https://kraftkit.sh"
  version "0.7.6"
  license "BSD-3-Clause"

  depends_on "aarch64-elf-binutils"
  depends_on "aarch64-elf-gcc"
  depends_on "coreutils"
  depends_on "gawk"
  depends_on "gnu-sed"
  depends_on "grep"
  depends_on "m4"
  depends_on "make"
  depends_on "qemu"
  depends_on "socat"
  depends_on "wget"
  depends_on "x86_64-elf-binutils"
  depends_on "x86_64-elf-gcc"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.6/kraft_0.7.6_darwin_arm64.tar.gz"
      sha256 "740d9f0430ee7efb5d4f342e0898370225a82adec8e1e8a2faa9bcc0d785b58e"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.6/kraft_0.7.6_darwin_amd64.tar.gz"
      sha256 "a4f0e3243ee0f5a3b55cb3207c4e46955629fee83f5187ab46f3bd3232dd67d7"

      def install
        bin.install "kraft"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.6/kraft_0.7.6_linux_arm64.tar.gz"
      sha256 "9164684d8829502968f43344a3428db898196f62854f930a08e758629f3f5e5c"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.6/kraft_0.7.6_linux_amd64.tar.gz"
      sha256 "94790b0d85eecbfc09813df9e155d0460e51dec72cb119413947701f8dd6e215"

      def install
        bin.install "kraft"
      end
    end
  end
end
