# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kraftkit < Formula
  desc "Build and use highly customized and ultra-lightweight unikernels."
  homepage "https://kraftkit.sh"
  version "0.8.1"
  license "BSD-3-Clause"

  depends_on "aarch64-elf-binutils"
  depends_on "aarch64-elf-gcc"
  depends_on "coreutils"
  depends_on "gawk"
  depends_on "gnu-sed"
  depends_on "grep"
  depends_on "m4"
  depends_on "make"
  depends_on "qemu"
  depends_on "socat"
  depends_on "wget"
  depends_on "x86_64-elf-binutils"
  depends_on "x86_64-elf-gcc"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.8.1/kraft_0.8.1_darwin_arm64.tar.gz"
      sha256 "9afb2e1d24287617f6dcd41956797b4c091d34cdc1edb760cd6f267fe93a9c62"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.8.1/kraft_0.8.1_darwin_amd64.tar.gz"
      sha256 "653a97d8d6b624699ac35db6767982e086b6e2fce79c23c77fb9e98c527f6b53"

      def install
        bin.install "kraft"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.8.1/kraft_0.8.1_linux_arm64.tar.gz"
      sha256 "6c7bf48db0db7d2a026d3be2df5b0e19889d1d655f03f52c8d0e637bfb7f62ea"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.8.1/kraft_0.8.1_linux_amd64.tar.gz"
      sha256 "97af2fbf6d0b97dc32887da8b53713d569b7d0e05426cd68a2fc0a38d5c87eda"

      def install
        bin.install "kraft"
      end
    end
  end
end
