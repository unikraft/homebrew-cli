# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kraftkit < Formula
  desc "Build and use highly customized and ultra-lightweight unikernels."
  homepage "https://kraftkit.sh"
  version "0.7.2"
  license "BSD-3-Clause"

  depends_on "aarch64-elf-binutils"
  depends_on "aarch64-elf-gcc"
  depends_on "coreutils"
  depends_on "gawk"
  depends_on "gnu-sed"
  depends_on "grep"
  depends_on "m4"
  depends_on "make"
  depends_on "qemu"
  depends_on "socat"
  depends_on "wget"
  depends_on "x86_64-elf-binutils"
  depends_on "x86_64-elf-gcc"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.2/kraft_0.7.2_darwin_arm64.tar.gz"
      sha256 "8d08a3fb619a4a9d9d78839924ce3177f22f8135c0146c309108699c501f5e0d"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.2/kraft_0.7.2_darwin_amd64.tar.gz"
      sha256 "77c45951a75fc3b1189acce2b94fb604340c3feeec612c401522f753ec4b515d"

      def install
        bin.install "kraft"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.2/kraft_0.7.2_linux_amd64.tar.gz"
      sha256 "f7d3c83fcb688a10c267f2f04ebb83c1d9b8f4587741007fb3e4fc94566714df"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.2/kraft_0.7.2_linux_arm64.tar.gz"
      sha256 "6995eaf1886e6215c28e0fdff6ec261a9e65bfdfd1d425f144907ac1e0a5ec84"

      def install
        bin.install "kraft"
      end
    end
  end
end
