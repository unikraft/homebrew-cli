# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kraftkit < Formula
  desc "Build and use highly customized and ultra-lightweight unikernels."
  homepage "https://kraftkit.sh"
  version "0.7.12"
  license "BSD-3-Clause"

  depends_on "aarch64-elf-binutils"
  depends_on "aarch64-elf-gcc"
  depends_on "coreutils"
  depends_on "gawk"
  depends_on "gnu-sed"
  depends_on "grep"
  depends_on "m4"
  depends_on "make"
  depends_on "qemu"
  depends_on "socat"
  depends_on "wget"
  depends_on "x86_64-elf-binutils"
  depends_on "x86_64-elf-gcc"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.12/kraft_0.7.12_darwin_arm64.tar.gz"
      sha256 "7c35e0a8c63d7d6e643fdc0c75b43e2e7f08686aafbad29e4c00e285eb03480b"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.12/kraft_0.7.12_darwin_amd64.tar.gz"
      sha256 "ff316e0eb8b619c1a78f70639e3d275d575d2ff9f38fd16805cd696d39710196"

      def install
        bin.install "kraft"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.12/kraft_0.7.12_linux_arm64.tar.gz"
      sha256 "fc9efe63dd348abb9aa9270eb127470b847fd9fa728cf0ccf47e7de6f3ec7129"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.12/kraft_0.7.12_linux_amd64.tar.gz"
      sha256 "42f42ce45e5c80de635c2f6c23aee917abb55b59976d3f54eb7e51ae6773e384"

      def install
        bin.install "kraft"
      end
    end
  end
end
