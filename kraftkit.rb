# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kraftkit < Formula
  desc "Build and use highly customized and ultra-lightweight unikernels."
  homepage "https://kraftkit.sh"
  version "0.7.11"
  license "BSD-3-Clause"

  depends_on "aarch64-elf-binutils"
  depends_on "aarch64-elf-gcc"
  depends_on "coreutils"
  depends_on "gawk"
  depends_on "gnu-sed"
  depends_on "grep"
  depends_on "m4"
  depends_on "make"
  depends_on "qemu"
  depends_on "socat"
  depends_on "wget"
  depends_on "x86_64-elf-binutils"
  depends_on "x86_64-elf-gcc"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.11/kraft_0.7.11_darwin_arm64.tar.gz"
      sha256 "5a75c1145106e8a7223b992629e7c4c43b90faecba737867913f0112bc7a4937"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.11/kraft_0.7.11_darwin_amd64.tar.gz"
      sha256 "9d2eebb26dbaa88cf169baeff50d210a2d332944645103129bb06c48991f9a8a"

      def install
        bin.install "kraft"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.11/kraft_0.7.11_linux_arm64.tar.gz"
      sha256 "685137968ffbe3cb02ac2a3b7a67b844ee6147a14ea9d921013377b8eee4e27b"

      def install
        bin.install "kraft"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/unikraft/kraftkit/releases/download/v0.7.11/kraft_0.7.11_linux_amd64.tar.gz"
      sha256 "183dc36e0127d9dd6c57fc71379df33b25b57767eb90a21ae871628793125c62"

      def install
        bin.install "kraft"
      end
    end
  end
end
